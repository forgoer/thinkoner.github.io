<!DOCTYPE html>
<html lang="en">
<head prefix="og: http://ogp.me/ns#"><meta name="generator" content="Hexo 3.8.0">
  <meta charset="utf-8">
  <title>Cache | ThinkGo</title>
  <meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <!-- Canonical links -->
  <link rel="canonical" href="https://thinkoner.github.io/docs/cache.html">
  <!-- Alternative links -->
  
    
      <link rel="alternative" hreflang="en" href="https://thinkoner.github.io/docs/cache.html">
    
      <link rel="alternative" hreflang="zh-cn" href="https://thinkoner.github.io/zh-cn/docs/cache.html">
    
  
  <!-- Icon -->
  <link rel="apple-touch-icon" sizes="57x57" href="/icon/apple-touch-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icon/apple-touch-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icon/apple-touch-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icon/apple-touch-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icon/apple-touch-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icon/apple-touch-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icon/apple-touch-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icon/apple-touch-icon-152x152.png">
  <link rel="icon" type="image/png" href="/icon/favicon-196x196.png" sizes="196x196">
  <link rel="icon" type="image/png" href="/icon/favicon-160x160.png" sizes="160x160">
  <link rel="icon" type="image/png" href="/icon/favicon-96x96.png" sizes="96x96">
  <link rel="icon" type="image/png" href="/icon/favicon-16x16.png" sizes="16x16">
  <link rel="icon" type="image/png" href="/icon/favicon-32x32.png" sizes="32x32">
  <meta name="msapplication-TileColor" content="#2f83cd">
  <meta name="msapplication-TileImage" content="/icon/mstile-144x144.png">
  <!-- CSS -->
  <!-- build:css build/css/navy.css -->
  <link rel="stylesheet" href="/css/navy.css">
  <!-- endbuild -->
  <link href="https://fonts.googleapis.com/css?family=Lato:300,400,700" rel="stylesheet" type="text/css">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css">  
  <!-- RSS -->
  <link rel="alternate" href="/atom.xml" title="ThinkGo">
  <!-- Open Graph -->
  <meta name="description" content="ThinkGo Cache Currently supports redis, memory, and can customize the store adapter. Basic Usageimport (	&quot;github.com/thinkoner/thinkgo/cache&quot;	&quot;time&quot;)var foo string // Create a cache with memory storec">
<meta property="og:type" content="website">
<meta property="og:title" content="Cache">
<meta property="og:url" content="https://thinkoner.github.io/docs/cache.html">
<meta property="og:site_name" content="ThinkGo">
<meta property="og:description" content="ThinkGo Cache Currently supports redis, memory, and can customize the store adapter. Basic Usageimport (	&quot;github.com/thinkoner/thinkgo/cache&quot;	&quot;time&quot;)var foo string // Create a cache with memory storec">
<meta property="og:locale" content="en">
<meta property="og:updated_time" content="2019-02-18T07:39:45.672Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Cache">
<meta name="twitter:description" content="ThinkGo Cache Currently supports redis, memory, and can customize the store adapter. Basic Usageimport (	&quot;github.com/thinkoner/thinkgo/cache&quot;	&quot;time&quot;)var foo string // Create a cache with memory storec">
</head>

<body>
  <div id="container">
    <header id="header" class="wrapper">
  <div id="header-inner" class="inner">
    <h1 id="logo-wrap">
      <a href="/" id="logo">ThinkGo</a>
    </h1>
    <nav id="main-nav">
      <a href="/docs/" class="main-nav-link">Docs</a><a href="/news/" class="main-nav-link">News</a>
      <a href="https://github.com/thinkoner/thinkgo" class="main-nav-link"><i class="fa fa-github-alt"></i></a>      
    </nav>
    <div id="lang-select-wrap">
      <label id="lang-select-label"><i class="fa fa-globe"></i><span>English</span></label>
      <select id="lang-select" data-canonical="docs/cache.html">
        
          <option value="en" selected>English</option>
        
          <option value="zh-cn">简体中文</option>
        
      </select>
    </div>
    <a id="mobile-nav-toggle">
      <span class="mobile-nav-toggle-bar"></span>
      <span class="mobile-nav-toggle-bar"></span>
      <span class="mobile-nav-toggle-bar"></span>
    </a>
  </div>
</header>

    <div id="content-wrap">
  <div id="content" class="wrapper">
    <div id="content-inner">
      <article class="article-container" itemscope itemtype="http://schema.org/Article">
        <div class="article-inner">
          <div class="article">
            <div class="inner">
              <header class="article-header">
                <h1 class="article-title" itemprop="name">Cache</h1>
                <a href="https://github.com/thinkoner/thinkgo-site/edit/master/source/docs/cache.md" class="article-edit-link" title="Improve this doc"><i class="fa fa-pencil"></i></a>
              </header>
              <div class="article-content" itemprop="articleBody">
                <p>ThinkGo Cache Currently supports redis, memory, and can customize the store adapter.</p>
<h4 id="Basic-Usage" class="article-heading"><a href="#Basic-Usage" class="headerlink" title="Basic Usage"></a>Basic Usage<a class="article-anchor" href="#Basic-Usage" aria-hidden="true"></a></h4><figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> (</span><br><span class="line">	<span class="string">"github.com/thinkoner/thinkgo/cache"</span></span><br><span class="line">	<span class="string">"time"</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> foo <span class="keyword">string</span> </span><br><span class="line"></span><br><span class="line"><span class="comment">// Create a cache with memory store</span></span><br><span class="line">c, _ := cache.Cache(cache.NewMemoryStore(<span class="string">"thinkgo"</span>))</span><br><span class="line"></span><br><span class="line"><span class="comment">// Set the value</span></span><br><span class="line">c.Put(<span class="string">"foo"</span>, <span class="string">"thinkgo"</span>, <span class="number">10</span> * time.Minute)</span><br><span class="line"></span><br><span class="line"><span class="comment">// Get the string associated with the key "foo" from the cache</span></span><br><span class="line">c.Get(<span class="string">"foo"</span>, &amp;foo)</span><br></pre></td></tr></table></figure>
<h4 id="Retrieve-amp-Store" class="article-heading"><a href="#Retrieve-amp-Store" class="headerlink" title="Retrieve &amp; Store"></a>Retrieve &amp; Store<a class="article-anchor" href="#Retrieve-amp-Store" aria-hidden="true"></a></h4><p>Sometimes you may wish to retrieve an item from the cache, but also store a default value if the requested item doesn’t exist. For example, you may wish to retrieve all users from the cache or, if they don’t exist, retrieve them from the callback and add them to the cache. You may do this using the <code>Remember</code> method:</p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> foo <span class="keyword">int</span></span><br><span class="line"></span><br><span class="line">cache.Remember(<span class="string">"foo"</span>, &amp;a, <span class="number">1</span>*time.Minute, <span class="function"><span class="keyword">func</span><span class="params">()</span> <span class="title">interface</span></span>&#123;&#125; &#123;</span><br><span class="line">	<span class="keyword">return</span> <span class="string">"thinkgo"</span></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<p>refer to <a href="https://github.com/thinkoner/thinkgo/tree/master/cache" target="_blank" rel="noopener">ThinkGo Cache</a></p>

              </div>
              <footer class="article-footer">
                <time class="article-footer-updated" datetime="2019-02-18T07:39:45.672Z" itemprop="dateModified">Last updated: 2019-02-18</time>
                <a href="logging.html" class="article-footer-prev" title="Logging"><i class="fa fa-chevron-left"></i><span>Prev</span></a><a href="contributing.html" class="article-footer-next" title="Contributing"><span>Next</span><i class="fa fa-chevron-right"></i></a>
              </footer>
              
            </div>
          </div>
          <aside id="article-toc" role="navigation">
            <div id="article-toc-inner">              
              <strong class="sidebar-title">Contents</strong>
              <ol class="toc"><li class="toc-item toc-level-4"><a class="toc-link" href="#Basic-Usage"><span class="toc-text">Basic Usage</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Retrieve-amp-Store"><span class="toc-text">Retrieve &amp; Store</span></a></li></ol>
              <a href="#" id="article-toc-top">Back to Top</a>
            </div>
          </aside>
        </div>
      </article>
      <aside id="sidebar" role="navigation">
  <div class="inner">
    <strong class="sidebar-title">Getting Started</strong><a href="index.html" class="sidebar-link">Overview</a><strong class="sidebar-title">Basic Usage</strong><a href="routing.html" class="sidebar-link">Routing</a><a href="middleware.html" class="sidebar-link">Middleware</a><a href="controller.html" class="sidebar-link">Controller</a><a href="http-request.html" class="sidebar-link">HTTP Request</a><a href="http-response.html" class="sidebar-link">HTTP Response</a><strong class="sidebar-title">Frontend</strong><a href="view.html" class="sidebar-link">View</a><strong class="sidebar-title">Digging Deeper</strong><a href="http-session.html" class="sidebar-link">HTTP-Session</a><a href="logging.html" class="sidebar-link">Logging</a><a href="cache.html" class="sidebar-link current">Cache</a><strong class="sidebar-title">Others</strong><a href="contributing.html" class="sidebar-link">Contributing</a>
  </div>
</aside>
    </div>
  </div>
</div>

    <footer id="footer" class="wrapper">
  <div class="inner">
    <div id="footer-copyright">
      &copy; 2019 <a href="https://github.com/thinkoner/thinkgo/graphs/contributors" target="_blank">TechLee</a><br>
      Documentation licensed under <a href="http://creativecommons.org/licenses/by/4.0/" target="_blank">CC BY 4.0</a>.
    </div>
    <div id="footer-links">
      <a href="https://github.com/thinkoner/thinkgo" class="footer-link" target="_blank"><i class="fa fa-github-alt"></i></a>
    </div>
  </div>
</footer>

  </div>
  <div id="mobile-nav-dimmer"></div>
  <nav id="mobile-nav">
  <div id="mobile-nav-inner">
    <ul id="mobile-nav-list">
      <a href="/docs/" class="mobile-nav-link">Docs</a><a href="/news/" class="mobile-nav-link">News</a>
      <li class="mobile-nav-item">
        <a href="https://github.com/thinkoner/thinkgo" class="mobile-nav-link" rel="external" target="_blank">GitHub</a>
      </li>
    </ul>
    
      <strong class="mobile-nav-title">Getting Started</strong><a href="index.html" class="mobile-nav-link">Overview</a><strong class="mobile-nav-title">Basic Usage</strong><a href="routing.html" class="mobile-nav-link">Routing</a><a href="middleware.html" class="mobile-nav-link">Middleware</a><a href="controller.html" class="mobile-nav-link">Controller</a><a href="http-request.html" class="mobile-nav-link">HTTP Request</a><a href="http-response.html" class="mobile-nav-link">HTTP Response</a><strong class="mobile-nav-title">Frontend</strong><a href="view.html" class="mobile-nav-link">View</a><strong class="mobile-nav-title">Digging Deeper</strong><a href="http-session.html" class="mobile-nav-link">HTTP-Session</a><a href="logging.html" class="mobile-nav-link">Logging</a><a href="cache.html" class="mobile-nav-link current">Cache</a><strong class="mobile-nav-title">Others</strong><a href="contributing.html" class="mobile-nav-link">Contributing</a>
    
  </div>
  <div id="mobile-lang-select-wrap">
    <span id="mobile-lang-select-label"><i class="fa fa-globe"></i><span>English</span></span>
    <select id="mobile-lang-select" data-canonical="docs/cache.html">
      
        <option value="en" selected>English</option>
      
        <option value="zh-cn">简体中文</option>
      
    </select>
  </div>
</nav>
  <!-- Scripts -->
<!-- Cookie -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/js-cookie/2.2.0/js.cookie.min.js"></script>
<!-- build:js build/js/main.js -->
<script src="/js/lang_select.js"></script>
<script src="/js/toc.js"></script>
<script src="/js/mobile_nav.js"></script>
<!-- endbuild -->
</body>
</html>